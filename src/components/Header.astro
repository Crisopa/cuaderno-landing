---
const navLinks = [
  { href: '#caracteristicas', label: 'Qué incluye' },
  { href: '#precios', label: 'Precios' },
  { href: '#faq', label: 'Dudas' },
]

const appUrl = 'https://app.cuaderno.es'
---

<header
  id="header"
  class="fixed top-0 left-0 right-0 z-50 transition-all duration-300"
>
  <nav class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <div class="flex h-16 items-center justify-between">
      <!-- Logo -->
      <a href="/logo" class="flex items-center gap-2">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-8 w-8 text-primary-800"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path d="M11.264 2.205A4 4 0 0 0 6.42 4.211l-4 8a4 4 0 0 0 1.359 5.117l6 4a4 4 0 0 0 4.438 0l6-4a4 4 0 0 0 1.576-4.592l-2-6a4 4 0 0 0-2.53-2.53z"/>
          <path d="M11.99 22 14 12l7.822 3.184"/>
          <path d="M14 12 8.47 2.302"/>
        </svg>
        <span class="font-logo text-xl font-bold text-gray-900">crisopa</span>
      </a>

      <!-- Desktop Navigation -->
      <div class="hidden md:flex md:items-center md:gap-8">
        {navLinks.map(link => (
          <a
            href={link.href}
            class="text-sm font-medium text-gray-600 hover:text-primary-800 transition-colors"
          >
            {link.label}
          </a>
        ))}
      </div>

      <!-- CTA Button -->
      <div class="flex items-center gap-4">
        <a
          href={`${appUrl}/login`}
          class="hidden sm:inline-flex text-sm font-medium text-gray-600 hover:text-primary-800 transition-colors"
        >
          Iniciar sesión
        </a>
        <a
          href={`${appUrl}/register`}
          class="inline-flex items-center justify-center rounded-lg bg-primary-800 px-4 py-2 text-sm font-semibold text-white hover:bg-primary-900 transition-colors"
        >
          Prueba gratis
        </a>

        <!-- Mobile menu button -->
        <button
          id="mobile-menu-button"
          type="button"
          class="md:hidden inline-flex items-center justify-center rounded-lg p-2 text-gray-600 hover:bg-gray-100"
          aria-expanded="false"
          aria-label="Abrir menú"
        >
          <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
      </div>
    </div>

    <!-- Mobile Navigation -->
    <div id="mobile-menu" class="hidden md:hidden">
      <div class="space-y-1 pb-4 pt-2">
        {navLinks.map(link => (
          <a
            href={link.href}
            class="block rounded-lg px-3 py-2 text-base font-medium text-gray-600 hover:bg-gray-100 hover:text-primary-800"
          >
            {link.label}
          </a>
        ))}
        <a
          href={`${appUrl}/login`}
          class="block rounded-lg px-3 py-2 text-base font-medium text-gray-600 hover:bg-gray-100 hover:text-primary-800"
        >
          Iniciar sesión
        </a>
      </div>
    </div>
  </nav>
</header>

<script>
  const header = document.getElementById('header')
  const mobileMenuButton = document.getElementById('mobile-menu-button')
  const mobileMenu = document.getElementById('mobile-menu')

  // Sticky header con blur
  let lastScroll = 0
  window.addEventListener('scroll', () => {
    const currentScroll = window.scrollY

    if (currentScroll > 10) {
      header?.classList.add('bg-white/95', 'backdrop-blur-md', 'shadow-sm')
    } else {
      header?.classList.remove('bg-white/95', 'backdrop-blur-md', 'shadow-sm')
    }

    lastScroll = currentScroll
  })

  // Mobile menu toggle
  mobileMenuButton?.addEventListener('click', () => {
    const isExpanded = mobileMenuButton.getAttribute('aria-expanded') === 'true'
    mobileMenuButton.setAttribute('aria-expanded', (!isExpanded).toString())
    mobileMenu?.classList.toggle('hidden')
  })

  // Cerrar menú al hacer click en un enlace
  mobileMenu?.querySelectorAll('a').forEach(link => {
    link.addEventListener('click', () => {
      mobileMenu.classList.add('hidden')
      mobileMenuButton?.setAttribute('aria-expanded', 'false')
    })
  })
</script>
