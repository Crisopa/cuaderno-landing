---
const features = [
  {
    title: 'Tratamientos',
    description: 'Producto, dosis, aplicador, maquinaria. Un formulario. Sin buscar qué es obligatorio.',
    icon: 'spray',
    color: 'primary',
  },
  {
    title: 'Parcelas SIGPAC',
    description: 'Añade tus parcelas una vez. No vuelvas a escribir provincia-municipio-polígono-parcela-recinto.',
    icon: 'map',
    color: 'accent',
  },
  {
    title: 'Fertilización',
    description: 'Pones kilos. Calculamos Unidades Fertilizantes. Así de simple.',
    icon: 'plant',
    color: 'primary',
  },
  {
    title: 'Aplicadores',
    description: 'Guarda los datos una vez. Después, solo selecciona de la lista.',
    icon: 'user',
    color: 'accent',
  },
  {
    title: 'Maquinaria',
    description: 'Equipos con fechas ITEAF. Te avisamos antes de que caduquen.',
    icon: 'tractor',
    color: 'primary',
  },
  {
    title: 'Riegos',
    description: 'Parcela, fecha, sistema, volumen. Nada más.',
    icon: 'water',
    color: 'accent',
  },
  {
    title: 'Eco-regímenes',
    description: 'Seguimiento de prácticas PAC. Todo en el mismo sitio.',
    icon: 'leaf',
    color: 'primary',
  },
  {
    title: 'Multiexplotación',
    description: 'Varias fincas o eres asesor. Una cuenta, todo controlado.',
    icon: 'buildings',
    color: 'accent',
  },
]

const iconPaths: Record<string, string> = {
  spray: 'M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z',
  map: 'M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7',
  plant: 'M12 2C8 2 4 6 4 12c0 4 2 6 3 7v3h10v-3c1-1 3-3 3-7 0-6-4-10-8-10zm0 2c2 0 4 1.5 5 4-1.5.5-3 1-5 1s-3.5-.5-5-1c1-2.5 3-4 5-4z',
  user: 'M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z',
  tractor: 'M8 16a3 3 0 100-6 3 3 0 000 6zm9-3a2 2 0 100-4 2 2 0 000 4zM4 13h2m10-4h4m-4 0V7a2 2 0 00-2-2H8a2 2 0 00-2 2v2m6-2v4',
  water: 'M12 2c-5.33 4.55-8 8.48-8 11.8 0 4.98 3.8 8.2 8 8.2s8-3.22 8-8.2c0-3.32-2.67-7.25-8-11.8zm0 18c-3.35 0-6-2.57-6-6.2 0-2.34 1.95-5.44 6-9.14 4.05 3.7 6 6.79 6 9.14 0 3.63-2.65 6.2-6 6.2z',
  leaf: 'M17 8C8 10 5.9 16.17 3.82 21.34l1.89.66.95-2.3c.48.17.98.3 1.34.3C19 20 22 3 22 3c-1 2-8 2.25-13 3.25S2 11.5 2 13.5s1.75 3.75 1.75 3.75',
  buildings: 'M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4',
}
---

<section id="caracteristicas" class="relative py-24 sm:py-32 bg-white overflow-hidden">
  <!-- Background decoration -->
  <div class="absolute inset-0 -z-10">
    <div class="absolute top-0 left-1/4 w-96 h-96 bg-primary-100/30 rounded-full blur-3xl"></div>
    <div class="absolute bottom-0 right-1/4 w-80 h-80 bg-accent-100/30 rounded-full blur-3xl"></div>
  </div>

  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <!-- Header -->
    <div class="text-center max-w-3xl mx-auto" data-animate>
      <span class="inline-flex items-center rounded-full bg-gradient-to-r from-primary-100 to-primary-50 px-5 py-2 text-sm font-semibold text-primary-800 shadow-sm border border-primary-200/50">
        Qué incluye
      </span>
      <h2 class="mt-6 text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl lg:text-5xl">
        Lo que te piden.
        <span class="block text-primary-700">Sin el dolor de cabeza.</span>
      </h2>
      <p class="mt-6 text-lg text-gray-600 leading-relaxed">
        Rellenar el cuaderno ya es bastante. Que la herramienta no lo complique más.
      </p>
    </div>

    <!-- Features Grid -->
    <div class="mt-20 grid gap-6 sm:grid-cols-2 lg:grid-cols-4" data-stagger>
      {features.map((feature, index) => (
        <div
          class="group relative rounded-2xl bg-white p-7 transition-all duration-500 hover:-translate-y-2 cursor-default"
          data-animate
          style={`transition-delay: ${index * 75}ms;`}
        >
          <!-- Card background with gradient border effect -->
          <div class="absolute inset-0 rounded-2xl bg-gradient-to-br from-gray-100 to-gray-50 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
          <div class="absolute inset-px rounded-[15px] bg-white"></div>

          <!-- Glow effect on hover -->
          <div class={`absolute -inset-px rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 bg-gradient-to-br ${feature.color === 'primary' ? 'from-primary-400/20 via-transparent to-transparent' : 'from-accent-400/20 via-transparent to-transparent'}`}></div>

          <!-- Border -->
          <div class="absolute inset-0 rounded-2xl border border-gray-200/80 group-hover:border-transparent transition-colors duration-500"></div>

          <!-- Content -->
          <div class="relative">
            <!-- Icon with animated background -->
            <div class="mb-5 relative">
              <div class={`absolute inset-0 rounded-2xl blur-xl opacity-0 group-hover:opacity-60 transition-opacity duration-500 ${feature.color === 'primary' ? 'bg-primary-400' : 'bg-accent-400'}`}></div>
              <div class={`relative inline-flex h-14 w-14 items-center justify-center rounded-2xl transition-all duration-500 ${feature.color === 'primary' ? 'bg-primary-100 text-primary-700 group-hover:bg-primary-600 group-hover:text-white' : 'bg-accent-100 text-accent-700 group-hover:bg-accent-500 group-hover:text-white'}`}>
                <svg class="h-7 w-7 transition-transform duration-500 group-hover:scale-110" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                  <path stroke-linecap="round" stroke-linejoin="round" d={iconPaths[feature.icon]} />
                </svg>
              </div>
            </div>

            <!-- Text -->
            <h3 class={`text-lg font-semibold text-gray-900 transition-colors duration-300 ${feature.color === 'primary' ? 'group-hover:text-primary-700' : 'group-hover:text-accent-700'}`}>
              {feature.title}
            </h3>
            <p class="mt-3 text-sm text-gray-600 leading-relaxed">
              {feature.description}
            </p>

            <!-- Arrow indicator -->
            <div class={`mt-4 flex items-center gap-1 text-sm font-medium opacity-0 group-hover:opacity-100 transition-all duration-300 translate-x-0 group-hover:translate-x-1 ${feature.color === 'primary' ? 'text-primary-600' : 'text-accent-600'}`}>
              <span>Saber más</span>
              <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
              </svg>
            </div>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>
